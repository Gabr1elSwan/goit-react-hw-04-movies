(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{10:function(e,t,a){e.exports={homeWrapper:"HomeView_homeWrapper__36wub",mainPoster:"HomeView_mainPoster__lE9N3",mainOverview:"HomeView_mainOverview__2FJWN",weekList:"HomeView_weekList__19ynf",starringTitle:"HomeView_starringTitle__1VGvG",castModalWrapper:"HomeView_castModalWrapper__3Qibn",castSpan:"HomeView_castSpan__2sInw",weekTrends:"HomeView_weekTrends__2oE1V",WeekFilmLinkElementContext:"HomeView_WeekFilmLinkElementContext__3xLyY"}},15:function(e,t,a){e.exports={header:"App_header__2oleS",NavLink:"App_NavLink__oX549",NavLinkActive:"App_NavLinkActive__14KK2",navLink:"App_navLink__IWunA"}},21:function(e,t,a){e.exports={NavLink:"Cast_NavLink__1PByH",NavLinkActive:"Cast_NavLinkActive__1NSzI",castElem:"Cast_castElem__2CTTk"}},22:function(e,t,a){e.exports={NavLink:"Reviews_NavLink__21m2z",NavLinkActive:"Reviews_NavLinkActive__1OdL7",reviewElem:"Reviews_reviewElem__77YY3"}},36:function(e,t,a){"use strict";var n=a(18),s=a.n(n),i=a(20),c=a(11),r=a(12),o=a(14),l=a(13),h=a(1),m=a.n(h),d=a(16),u=a.n(d),j=a(9),p=a.n(j),v=a(7),b=a(21),f=a.n(b),O=a(0),_=function(e){var t=e.id,a=e.location;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("p",{className:f.a.castElem,children:Object(O.jsx)(v.c,{to:{pathname:"/movies/".concat(t,"/cast"),state:{from:a}},className:f.a.NavLink,activeClassName:f.a.NavLinkActive,children:"Cast"})})})},x=a(22),k=a.n(x),N=function(e){var t=e.id,a=e.location;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("p",{className:k.a.reviewElem,children:Object(O.jsx)(v.c,{to:{pathname:"/movies/".concat(t,"/review"),state:{from:a}},className:k.a.NavLink,activeClassName:k.a.NavLinkActive,children:"Reviews"})})})},g=a(40),w=a.n(g);function S(e){var t=e.handleGoBack;return Object(O.jsx)("button",{className:w.a.BackBtn,onClick:t})}var F=m.a.lazy((function(){return a.e(5).then(a.bind(null,103))})),y=m.a.lazy((function(){return a.e(6).then(a.bind(null,104))})),L=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={films:{},genres:""},e.handleGoBack=function(){e.props.history.push(e.props.location.state.from)},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("https://api.themoviedb.org/3/movie/".concat(this.props.match.params.filmId,"?api_key=cae2ba5bb4d635ff4cc14f2582722050"),{credentials:"include"});case 2:t=e.sent,this.setState({films:t.data}),a=this.state.films.genres.map((function(e){return e.name})).join(", "),this.setState({genres:a});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(S,{handleGoBack:this.handleGoBack}),Object(O.jsxs)("div",{className:p.a.filmCard,children:[Object(O.jsx)("div",{className:p.a.posterDiv,children:Object(O.jsx)("img",{className:p.a.filmPoster,src:"https://image.tmdb.org/t/p/w500".concat(this.state.films.backdrop_path),alt:this.state.films.title})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:p.a.filmtitle,children:this.state.films.title}),Object(O.jsxs)("p",{children:[Object(O.jsx)("span",{className:p.a.undertitles,children:"Overview:"})," "]}),Object(O.jsx)("p",{className:p.a.overview,children:this.state.films.overview}),Object(O.jsx)("p",{children:Object(O.jsx)("span",{className:p.a.undertitles,children:"Genres: "})}),this.state.genres]})]}),Object(O.jsxs)("div",{className:p.a.additionals,children:[Object(O.jsx)("span",{className:p.a.undertitles,children:"Additional Information"}),Object(O.jsxs)("div",{className:p.a.filmPageAddNav,children:[Object(O.jsx)(_,{id:this.state.films.id,location:this.props.history.location.state.from}),Object(O.jsx)(N,{id:this.state.films.id,location:this.props.history.location.state.from}),Object(O.jsxs)(m.a.Suspense,{fallback:Object(O.jsx)("div",{children:"Loading"}),children:[Object(O.jsx)(F,{id:this.state.films.id}),Object(O.jsx)(y,{id:this.state.films.id})]})]})]})]})}}]),a}(h.Component);t.a=L},39:function(e,t,a){e.exports={Searchbar:"SearchMoviesForm_Searchbar__1lV0p",SearchForm:"SearchMoviesForm_SearchForm__36j0s",SearchFormButton:"SearchMoviesForm_SearchFormButton__1t4q2",SearchFormButtonLabel:"SearchMoviesForm_SearchFormButtonLabel__1gl9B",SearchFormInput:"SearchMoviesForm_SearchFormInput__2r8Gn",moreLoader:"SearchMoviesForm_moreLoader__1EQHE"}},40:function(e,t,a){e.exports={BackBtn:"BackBtn_BackBtn__Tu5bk",BackBtnLabel:"BackBtn_BackBtnLabel__OAXMA"}},41:function(e,t,a){e.exports={container:"Section_container__3EN-y"}},47:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(37),c=a.n(i),r=a(7),o=(a(46),a(47),a(2)),l=a(18),h=a.n(l),m=a(20),d=a(11),u=a(12),j=a(14),p=a(13),v=a(16),b=a.n(v),f=a(10),O=a.n(f),_=a(0),x=s.a.lazy((function(){return a.e(7).then(a.bind(null,100))})),k=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={films:[],randomFilm:{},randomCast:[],showCastModal:!1,currentCastPerson:{}},e.getrandomFilm=function(){var t=Math.floor(Math.random()*e.state.films.length);e.setState({randomFilm:e.state.films[t]})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://api.themoviedb.org/3/trending/movie/week?api_key=cae2ba5bb4d635ff4cc14f2582722050",{credentials:"include"});case 2:return t=e.sent,this.setState({films:t.data.results}),this.getrandomFilm(),e.next=7,b.a.get("https://api.themoviedb.org/3/movie/".concat(this.state.randomFilm.id,"/credits?api_key=cae2ba5bb4d635ff4cc14f2582722050"),{credentials:"include"});case 7:a=e.sent,this.setState({randomCast:a.data.cast});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOnMouseOver",value:function(e){var t=this;this.state.randomCast.map((function(a){return a.name===e.target.innerHTML&&t.setState({currentCastPerson:a})})),this.setState({showCastModal:!0})}},{key:"handleOnMouseLeave",value:function(e){this.setState({showCastModal:!1}),e.target.classList.remove("activeCastLink")}},{key:"render",value:function(){var e=this,t=this.state.randomFilm;return Object(_.jsxs)("div",{className:O.a.homeWrapper,children:[Object(_.jsxs)("ul",{className:O.a.weekList,children:[Object(_.jsx)("li",{children:Object(_.jsx)("h3",{className:O.a.weekTrends,children:"Week Trends:"})}),this.state.films.map((function(t){return Object(_.jsx)("li",{children:Object(_.jsx)(r.b,{to:{pathname:"/movies/".concat(t.id),state:{from:e.props.location}},children:Object(_.jsx)("span",{className:O.a.WeekFilmLinkElementContext,children:t.title})})},t.id)}))]}),Object(_.jsx)("div",{children:Object(_.jsx)(r.b,{to:{pathname:"/movies/".concat(t.id),state:{from:this.location}},children:Object(_.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),alt:t.title,className:O.a.mainPoster})})}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{className:O.a.mainOverview,children:t.overview}),Object(_.jsx)("p",{className:O.a.starringTitle,children:"Starring:"}),Object(_.jsxs)("div",{className:O.a.castModalWrapper,children:[Object(_.jsx)("ul",{children:this.state.randomCast.map((function(t,a){return[a]<=5&&Object(_.jsx)("li",{onMouseEnter:function(t){return e.handleOnMouseOver(t)},onMouseLeave:function(t){return e.handleOnMouseLeave(t)},children:Object(_.jsx)("span",{className:O.a.castSpan,children:t.name})},t.name)}))}),this.state.showCastModal&&Object(_.jsx)(s.a.Suspense,{fallback:Object(_.jsx)("div",{children:"Loading"}),children:Object(_.jsx)(x,{currentCastPerson:this.state.currentCastPerson})})]})]})]})}}]),a}(n.Component),N=Object(o.f)(k),g=a(39),w=a.n(g),S=(a(73),s.a.lazy((function(){return a.e(4).then(a.bind(null,102))}))),F=s.a.lazy((function(){return a.e(3).then(a.t.bind(null,101,7))})),y=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={search:[],currentSearch:"",loadContentFlag:0,loader:!1,query:""},e.change=function(t){e.setState({currentSearch:t.target.value})},e.submit=function(t){t.preventDefault(),e.setState({loadContentFlag:1,loader:!0}),e.props.history.push({pathname:e.props.location.pathname,search:"name=".concat(e.state.currentSearch)});var a=e.state.currentSearch;e.makeSearch(a),e.setState({query:a})},e.makeSearch=function(t){setTimeout((function(){b.a.get("https://api.themoviedb.org/3/search/movie?api_key=cae2ba5bb4d635ff4cc14f2582722050&query=".concat(t),{credentials:"include"}).then((function(t){return e.setState({search:t.data.results})}))}),1400)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.setState({loadContentFlag:1,currentSearch:this.props.history.location.search.substr(6)}),this.props.history.location.search.length>0&&this.makeSearch(this.props.history.location.search.substr(6))}},{key:"render",value:function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("form",{className:"",onSubmit:this.submit,children:[Object(_.jsx)("button",{type:"submit",className:w.a.SearchFormButton,children:Object(_.jsx)("span",{className:""})}),Object(_.jsx)("input",{className:"",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search Film",onChange:this.change,value:this.state.currentSearch})]}),this.state.loader&&Object(_.jsx)("div",{className:"",children:Object(_.jsx)("span",{children:"You results will be here"})}),1===this.state.loadContentFlag&&Object(_.jsx)(s.a.Suspense,{fallback:Object(_.jsx)(_.Fragment,{}),children:Object(_.jsx)(S,{search:this.state.search,from:"".concat(this.props.location.pathname,"?name=").concat(this.props.history.location.search.substr(6))})}),this.state.loader&&Object(_.jsx)("div",{className:"",children:Object(_.jsx)(s.a.Suspense,{fallback:Object(_.jsx)(_.Fragment,{}),children:Object(_.jsx)(F,{type:"Puff",color:"#00BFFF",height:50,width:50,timeout:900})})})]})}}]),a}(n.Component),L=a(36),C=a(15),M=a.n(C),B=a(41),A=a.n(B),P=function(e){Object(j.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(_.jsx)("div",{className:A.a.container,children:Object(_.jsx)(_.Fragment,{children:this.props.children})})}}]),a}(n.Component),E=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("ul",{className:M.a.header,children:[Object(_.jsx)("li",{className:M.a.navLink,children:Object(_.jsx)(r.c,{exact:!0,to:"/",className:M.a.NavLink,activeClassName:M.a.NavLinkActive,children:"Home"})}),Object(_.jsx)("li",{className:M.a.navLink,children:Object(_.jsx)(r.c,{exact:!0,to:"/movies",className:M.a.NavLink,activeClassName:M.a.NavLinkActive,children:"Movies"})})]}),Object(_.jsx)(P,{children:Object(_.jsxs)(o.c,{children:[Object(_.jsx)(o.a,{exact:!0,path:"/",component:N}),Object(_.jsx)(o.a,{path:"/movies/:filmId",component:L.a}),Object(_.jsx)(o.a,{path:"/movies/",strict:!1,exact:!1,component:y}),Object(_.jsx)(o.a,{component:N})]})})]})};c.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(r.a,{children:Object(_.jsx)(E,{})})}),document.getElementById("root"))},9:function(e,t,a){e.exports={filmPoster:"FilmPage_filmPoster__3D5kg",filmCard:"FilmPage_filmCard__10r0J",posterDiv:"FilmPage_posterDiv__jTabW",undertitles:"FilmPage_undertitles__2ZxHC",overview:"FilmPage_overview__bZ7s6",additionals:"FilmPage_additionals__z1DrJ"}}},[[74,1,2]]]);
//# sourceMappingURL=main.2b5b3104.chunk.js.map